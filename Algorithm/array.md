# 배열

자료구조란 데이터 단위와 데이터 자체 사이의 물리적 또는 논리적인 관계이다.

## 배열
- 변수가 많아질 경우 번호를 붙여 데이터를 지정하는 가장 간단하고 기본적인 자료구조.
- 일반적으로 자료형이 Type이고, 요소 개수가 n인 배열의 자료형은 Type[n]으로 나타낸다.
- (전체배열크기) / (첫요소크기) 로 배열의 개수를 코드 내에서 얻을 수 있다.
```c
    #include <stdio.h>

    int main(){
        int i, a[5];
        int size = sizeof(a) / sizeof(a[0]);

        printf("size : %d", size); // 5
    }
```
- 배열의 번호값을 인덱스 값이라 하며, 번호 안에 있는 값을 요솟값이라 한다.
- 필요할 때 메모리를 확보하고, 불필요해지면 메모리를 해제하며 필요한 개수의 배열을 자유롭게 만들 수 있음.
```c
    // calloc 함수
    #include <stdio.h>

    int main(){
        void * calloc(size_t n, size_t size);
    }
    // 크기가 size인 자료가 n개만큼 들어갈 메모리를 할당한다. 할당 영역은 모든 비트가 0으로 초기화됨.
    // 메모리 할당에 성공하면 할당한 영역의 첫 번째 포인터를 반환하고, 실패하면 NULL 포인터를 반환함.
    // calloc 함수는 단순히 메모리 영역만 확보할 뿐, 특정한 자료형의 객체와는 관련이 없음.
```
```c
    //malloc 함수
    #include <stdio.h>

    int main(){
        void * malloc(size_t size);
    }
    // 크기가 size인 메모리를 할당함. 할당한 메모리의 값은 정의되지 않는다
    // 메모리 할당에 성공하면 할당한 영역의 첫 번째 포인터를 반환하고, 실패하면 NULL 포인터를 반환함.
```
```c
    void free(void * ptr);
    // prt이 가리키는 메모리를 해제하여 이후 다시 할당할 수 있도록 함.
```
## 선언과 정의, 그리고 NULL
```c
    #define NULL((void *)0)
    // NULL은 stdio.h 파일에 매크로로 정의되어 있고 값이 없음을 의미함.
    // 선언은 컴파일러에게 대상에 대한 정보를 알려주나, 실제 내용을 할당하지 않음.
    // 정의(define)는 컴파일러에게 대상의 실제 내용을 생성하게 함.
```
## C언어의 메모리 구조
프로그램을 실행하면 운영체제는 프로그램이 사용할 메모리 영역을 할당한다.
- 할당 시기 : 프로그램이 실행될 때마다 할당
- 할당 장소 : 메인 메모리(RAM)
- 할당 용도 : 프로그램 시ㅣㄹ행에 필요한 메모리 영역 할당

데이터 영역
- 전역 변수와 정적 변수가 할당되는 영역
- 프로그램을 시작하면 할당하고, 프로그램을 종료하면 메모리에서 해제함.

스택 영역
- 함수 호출 시 생성되는 지역 변수와 매개변수가 저장되는 영역
- 함수 호출이 완료되면 사라짐.

힙 영역 
- 필요에 따라 동적으로 메모리를 할당
- 할당해야할 메모리 영역의 크기를 프로그램이 실행되는 동안 결정해야 하는 경우 사용.

## 포인터
포인터는 객체(변수) 또는 함수를 가리키는 것이다.

- 주소 연산자 &(앰퍼센트)는 피연산자의 주소를 가져온다.
- 간접 연산자 *(애스터리스크)로 포인터가 가리키는 객체의 값에 접근할 수 있다.
- 배열 a에 들어 있는 값은 a[0]의 주소와 같다. p+n은 a[0]의 n개만큼 뒤에 있는 요소를 가리킴.
```c
    int * p;
    int n;
    double * q;
    p = &n;   // n의 주소를 가져옴.
    *p = 999; // p가 가리키고 있는 n에 999가 대입됨.
```